<div class=" panel-header-sm">
</div>
<p-table #dt [value]="participants" 
             dataKey="index"
             editMode="row" 
             responsiveLayout="scroll"
             [globalFilterFields]="['nomprenom', 'telfix', 'fax', 'entreprise','telport','mail']"

             >
    <ng-template pTemplate="caption">
        <div class="table-header">
            La liste des participants
            <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input pInputText type="text" 
                       (input)=
    "dt.filterGlobal($event.target.value, 'contains')" 
                       placeholder="Recherche globale" />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
           
            <th pSortableColumn="nomprenom">
                Nom et Prenom <p-sortIcon field="nomprenom"></p-sortIcon>
            </th>
            <th pSortableColumn="entreprise">
                Entreprise <p-sortIcon field="entreprise"></p-sortIcon>
            </th>
            <th pSortableColumn="telfix">
                Fix <p-sortIcon field="telfix"></p-sortIcon>
            </th>
            <th pSortableColumn="fax">
                Fax <p-sortIcon field="fax"></p-sortIcon>
            </th>
            <th pSortableColumn="telport">
                TÃ©l. port. <p-sortIcon field="telport"></p-sortIcon>
            </th>
            <th pSortableColumn="mail">
                E-mail <p-sortIcon field="mail"></p-sortIcon>
            </th>
            
            <th style="width:8rem"></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" 
                 let-participant let-editing="editing"
                 let-ri="rowIndex">
        <tr [pEditableRow]="participant"  >
            
            <td (click)="editing ? null : navigateToDetails(participant.id)">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" 
                               [(ngModel)]="participant.nomprenom" />
                    </ng-template>
                    <ng-template pTemplate="output" >
                        {{ participant.nomprenom }}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td (click)="editing ? null : navigateToDetails(participant.id)">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" 
                               [(ngModel)]="participant.entreprise" />
                    </ng-template>
                    <ng-template pTemplate="output" >
                      
                        {{ participant.entreprise }}
                    </ng-template>
             

                </p-cellEditor>
            </td>
            <td (click)="editing ? null : navigateToDetails(participant.id)">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" 
                               [(ngModel)]="participant.telfix" />
                    </ng-template>
                    <ng-template pTemplate="output"  >
                        {{ participant.telfix }}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td (click)="editing ? null : navigateToDetails(participant.id)">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" 
                               [(ngModel)]="participant.fax" />
                    </ng-template>
                    <ng-template pTemplate="output" >
                        {{ participant.fax }}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td (click)="editing ? null : navigateToDetails(participant.id)">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" 
                               [(ngModel)]="participant.telport" />
                    </ng-template>
                    <ng-template pTemplate="output" >
                        {{ participant.telport }}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td (click)="editing ? null : navigateToDetails(participant.id)">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input pInputText type="text" 
                               [(ngModel)]="participant.mail" />
                    </ng-template>
                    <ng-template pTemplate="output" >
                        {{ participant.mail }}
                    </ng-template>
                </p-cellEditor>
            </td>
  
            <td style="text-align:center">
                <button *ngIf="!editing"
                          pButton pRipple type="button" 
                          pInitEditableRow icon="pi pi-pencil" 
                          (click)="onRowEditInit(participant, ri)" 
                          class="p-button-rounded p-button-text">
                </button>
                <button *ngIf="editing" 
                          pButton pRipple type="button" 
                          pSaveEditableRow icon="pi pi-check" 
                          (click)="onRowEditSave(participant, ri)" 
                          class="p-button-rounded 
                                 p-button-text 
                                 p-button-success mr-2">
                </button>
                <button *ngIf="editing" 
                pButton pRipple type="button" 
                pCancelEditableRow icon="pi pi-times" 
                (click)="onRowEditCancel(participant, ri)" 
                class="p-button-rounded 
                       p-button-text 
                       p-button-danger">
       </button>
            </td>
        </tr>
    </ng-template>
</p-table>
